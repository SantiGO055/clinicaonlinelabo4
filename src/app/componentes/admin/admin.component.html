
<div class="container">
    <div class="contenedorLista form" >

        <h5>Listado de usuarios especialistas</h5>

        <table class="table table-striped form-group">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Email</th>
                    <th *ngIf="!habilitado">Habilitar usuario</th>
                    <div *ngIf="mostrarBaja">
                        <th >Baja</th>

                    </div>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let usuario of usuariosEspecialistas;index as i">

                        <td *ngIf="!usuario.baja">{{usuario.apellido}}</td>
                        <td *ngIf="!usuario.baja">{{usuario.nombre}}</td>
                        <td *ngIf="!usuario.baja">{{usuario.email}}</td>
                        <!-- <td><button type="button" *ngIf="usuario.aprobadoPorAdmin"(click)="habilitar(usuario,i)">{{mensajeHabilitado}}</button> </td>
                                <td><button type="button" *ngIf="!usuario.aprobadoPorAdmin"(click)="habilitar(usuario,i)">{{mensajeDeshabilitado}}</button> </td> -->



                        <!-- <form [formGroup]="formGroupCheck"> -->
                            <!-- <div class="form-check" > -->
                        <td *ngIf="!usuario.aprobadoPorAdmin && !usuario.baja">
                            <!-- <label class="switch" >
                                <input name="check"  type="checkbox" ng-checked="usuario.aprobadoPorAdmin" [(ngModel)]="usuario.aprobadoPorAdmin" (change)="verificarChangeCheck(usuario,$event)">
                                <span class="slider round"></span>
                            </label> -->
                            <button class="btn btn-primary" (click)="habilitar(usuario)">
                                Habilitar
                            </button>

                        </td>
                        <td *ngIf="usuario.aprobadoPorAdmin && !usuario.baja" (click)="bajaUsuario(usuario)">
                            <button class="btn btn-primary">
                                Baja
                            </button>
                        </td>
                        <!-- </div> -->
                        <!-- <div class="row" *ngIf="!spinner"> -->
                        <!-- </div> -->

                    <!-- </form> -->


                    <!-- <button *ngIf="habilitado" (click)="deshabilitar(usuario,i)">{{mensajeBoton}}</button> -->
                    <!-- <td><button *ngIf="usuario.aprobadoPorAdmin" (click)="deshabilitar(usuario,i)">{{mensajeBoton}}</button></td> -->

                    <!-- <td><button (click)="aprobarUsuario(usuario,i)">Aprobar</button></td> -->
                    <!-- <td><button type="button" class="btn btn-info  btn-circle" (click)="mostrarDetalles(alumno)"><i class="fa fa-check"></i> -->
                        <!-- </button></td> -->
                    </tr>


                </tbody>
                <div class="botonesAdmin">
                    <button type="submit" [routerLink]="'/ingreso/registro'">Nuevo usuario</button>
                    <button type="submit" (click)="exportarExcel()">Exportar todos los usuarios a excel</button>

                </div>
            </table>

            
                <div class="list-group">
                    <h1>Historias clinicas de pacientes</h1>
                    <app-spinner class="flag" [spinner]="flag"></app-spinner>
                    <div *ngIf="!flag">

                    
                        <div *ngFor="let historia of historias">
                            <a class="list-group-item list-group-item-action" >
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">{{historia.turno.paciente.nombre}}, {{historia.turno.paciente.apellido}}</h5>
                                <small> <strong>Médico</strong> {{historia.turno.especialista.nombre}}, {{historia.turno.especialista.apellido}}</small>
                            </div>
                            <!-- <p class="mb-1">Especialista: {{turno.especialista.nombre}}, {{turno.especialista.apellido}}</p> -->
                            
                            <p>
                                <strong>Altura: </strong>{{historia.altura}}
                
                            </p>
                            <p>
                                <strong>Peso: </strong>{{historia.peso}}
                
                            </p>
                            <p>
                                <strong>Temperatura: </strong>{{historia.temperatura}}
                
                            </p>
                            <p>
                                <strong>Presion: </strong>{{historia.presion}}
                
                            </p>
                            <p>
                                <strong>{{historia.clave}}: </strong>{{historia.valor}}
                
                            </p>
                            <p>
                                <strong>{{historia.clave2}}: </strong>{{historia.valor2}}
                
                            </p>
                
                            <!-- <small>Paciente: {{turno.paciente.nombre}}, {{turno.paciente.apellido}}</small>
                            <td *ngIf="turno.estado != 'REALIZADO' && turno.estado != 'CANCELADO'"><button class="btn btn-primary" (click)="cancelarTurno(turno)">Cancelar turno</button></td>
                            <td *ngIf="turno.resenia != undefined && turno.resenia != '' "><button class="btn btn-primary" (click)="verResenia(turno)">Ver reseña</button></td>
                                <td *ngIf="turno.estado == 'REALIZADO' "><button class="btn btn-primary" (click)="calificarAtencion(turno)">Calificar Atencion</button></td> -->
                                <!-- <td *ngIf="turno.estado == 'REALIZADO' && turno.resenia != '' && turno.resenia != undefined"><button class="btn btn-primary" (click)="completarEncuesta(turno)">Completar encuesta</button></td> -->
                            </a>
                
                        </div>
                    </div>
                </div>
        
            
    </div>

    <!-- <app-spinner [spinner]="spinnerPrueba"></app-spinner> -->
</div>